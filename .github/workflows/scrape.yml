- name: Start 60-Minute Loop Scraper
        run: |
          # å¾ªç¯ 60 æ¬¡ï¼Œæ¯æ¬¡é—´éš” 60 ç§’
          for i in {1..60}
          do
            echo "æ­£åœ¨åŒæ­¥å®æ—¶å¼€å¥– - è½®æ¬¡: $i"
            
            # ä½¿ç”¨å¤§é©¬å½©å®˜æ–¹å®æ—¶ JSON åœ°å€
            # è¿™ä¸ªåœ°å€ä¼šè‡ªåŠ¨é‡å®šå‘åˆ°ä½ æˆªå›¾ä¸­çœ‹åˆ°çš„é‚£ä¸ª Azure é“¾æ¥
            curl -sL "https://livedraw.damacai.com.my/DrawResult.json" > data.json
            
            # æ£€æŸ¥æŠ“åˆ°çš„æ•°æ®æ˜¯å¦åŒ…å«æœ‰æ•ˆå­—æ®µ
            if grep -q "drawNo" data.json; then
              git config --global user.name "GitHub Action"
              git config --global user.email "action@github.com"
              git add data.json
              if git commit -m "Live Update: $(date -d '+8 hours' '+%H:%M:%S')"; then
                git push
                echo "âœ… å‘ç°æ–°å·ç ï¼Œå·²åŒæ­¥åˆ°ç½‘é¡µï¼"
              else
                echo "ğŸ˜´ æ•°æ®æœªå˜åŒ–ã€‚"
              fi
            else
              echo "âš ï¸ æ¥å£å°šæœªè¿”å›æœ‰æ•ˆæ•°æ®ï¼Œç­‰å¾…ä¸‹ä¸€åˆ†é’Ÿã€‚"
            fi
            
            sleep 60
          done
