<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>4D æˆç»© Malaysia Â· å®æ—¶æ›´æ–°</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }
        .container {
            max-width: 600px;
            margin: 0 auto;
        }
        .header {
            background: #fff;
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 20px;
            text-align: center;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }
        .header h1 {
            color: #333;
            font-size: 1.8em;
            margin-bottom: 10px;
        }
        .header p {
            color: #666;
            font-size: 0.95em;
            margin: 5px 0;
        }
        .result-card {
            background: #fff;
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }
        .result-card h2 {
            color: #764ba2;
            border-bottom: 2px solid #764ba2;
            padding-bottom: 10px;
            margin-bottom: 15px;
        }
        .prize-row {
            display: flex;
            justify-content: space-between;
            padding: 12px 0;
            border-bottom: 1px solid #eee;
        }
        .prize-row:last-child {
            border-bottom: none;
        }
        .prize-name {
            font-weight: 600;
            color: #333;
        }
        .prize-number {
            color: #d32f2f;
            font-weight: bold;
            font-family: "Courier New", monospace;
            font-size: 1.3em;
            letter-spacing: 2px;
        }
        .placeholder {
            color: #ccc !important;
        }
        .status-bar {
            background: #fff;
            border-radius: 12px;
            padding: 15px;
            text-align: center;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }
        .status-bar.success {
            background: #e8f5e9;
        }
        .status-bar.pending {
            background: #fff3e0;
        }
        .update-time {
            font-size: 0.9em;
            color: #666;
        }
        /* å…¶ä»–å…¬å¸ - æŠ˜å éšè— */
        .other-companies {
            display: none; /* æš‚æ—¶éšè—ï¼Œä¸“æ³¨ DAMACAI */
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- å¤´éƒ¨ä¿¡æ¯ -->
        <div class="header">
            <h1>ğŸ‡²ğŸ‡¾ 4D RESULT MALAYSIA</h1>
            <p>æ—¥æœŸï¼š<span id="draw-date">22-02-2026 (Sun)</span></p>
            <p>å¼€å½©æœŸå·ï¼š<span id="draw-number">6042-26 (é€šç”¨)</span></p>
            <p style="color: #f57c00; font-size: 0.85em; margin-top: 10px;">
                âš ï¸ æ•°æ®ä»…ä¾›å‚è€ƒï¼Œè¯·ä»¥å®˜æ–¹å…¬å‘Šä¸ºå‡†ã€‚
            </p>
        </div>

        <!-- ğŸ¯ DAMACAI å¤§é©¬å½© - ä¸“æ³¨æ ç›® -->
        <div class="result-card" id="damacai-card">
            <h2>ğŸ¯ DAMACAI å¤§é©¬å½©</h2>
            
            <div class="prize-row">
                <span class="prize-name">ğŸ¥‡ é¦–å¥– (1st Prize)</span>
                <span class="prize-number placeholder" id="damacai-1st">----</span>
            </div>
            
            <div class="prize-row">
                <span class="prize-name">ğŸ¥ˆ äºŒå¥– (2nd Prize)</span>
                <span class="prize-number placeholder" id="damacai-2nd">----</span>
            </div>
            
            <div class="prize-row">
                <span class="prize-name">ğŸ¥‰ ä¸‰å¥– (3rd Prize)</span>
                <span class="prize-number placeholder" id="damacai-3rd">----</span>
            </div>
            
            <div class="prize-row">
                <span class="prize-name">ğŸ ç‰¹åˆ«å¥– (Special)</span>
                <span class="prize-number placeholder" id="damacai-special">----</span>
            </div>
            
            <div class="prize-row">
                <span class="prize-name">ğŸ’ å®‰æ…°å¥– (Consolation)</span>
                <span class="prize-number placeholder" id="damacai-consolation">----</span>
            </div>
        </div>

        <!-- å…¶ä»–å…¬å¸ - æš‚æ—¶éšè— -->
        <div class="other-companies">
            <div class="result-card">
                <h2>Magnum å¤§é©¬å½©</h2>
                <p style="text-align: center; color: #999;">å¼€å‘ä¸­...</p>
            </div>
            <div class="result-card">
                <h2>Sports Toto å¤šå¤šå½©</h2>
                <p style="text-align: center; color: #999;">å¼€å‘ä¸­...</p>
            </div>
        </div>

        <!-- çŠ¶æ€æ  -->
        <div class="status-bar pending" id="status-bar">
            <p class="update-time" id="update-status">
                ğŸ”„ ç­‰å¾…æ•°æ®æ›´æ–°...
            </p>
            <p style="font-size: 0.85em; color: #999; margin-top: 5px;">
                çˆ¬è™«æ•°æ®æ¥å…¥åå³å¯å®æ—¶æ›´æ–°
            </p>
        </div>
    </div>

    <script>
        // ============================================
        // ğŸ¯ DAMACAI æ•°æ®æ›´æ–°å‡½æ•°
        // ============================================
        function updateDamacaiResults(data) {
            if (!data || !data.results) {
                console.warn('æ•°æ®æ ¼å¼ä¸æ­£ç¡®');
                return;
            }

            const results = data.results;
            
            // æ›´æ–°å„å¥–é¡¹
            document.getElementById('damacai-1st').textContent = results.first || '----';
            document.getElementById('damacai-2nd').textContent = results.second || '----';
            document.getElementById('damacai-3rd').textContent = results.third || '----';
            document.getElementById('damacai-special').textContent = results.special || '----';
            document.getElementById('damacai-consolation').textContent = results.consolation || '----';

            // æ›´æ–°æœŸå·ä¿¡æ¯
            if (data.drawNumber) {
                document.getElementById('draw-number').textContent = data.drawNumber;
            }
            if (data.drawDate) {
                document.getElementById('draw-date').textContent = data.drawDate;
            }

            // ç§»é™¤ placeholder æ ·å¼
            document.querySelectorAll('#damacai-card .prize-number').forEach(el => {
                el.classList.remove('placeholder');
            });

            // æ›´æ–°çŠ¶æ€æ 
            const statusBar = document.getElementById('status-bar');
            const updateStatus = document.getElementById('update-status');
            
            statusBar.classList.remove('pending');
            statusBar.classList.add('success');
            updateStatus.textContent = 'âœ… æ›´æ–°äº ' + new Date().toLocaleString('zh-CN');
        }

        // ============================================
        // ğŸ”„ è‡ªåŠ¨è·å–æ•°æ®ï¼ˆç­‰çˆ¬è™« ready åå¯ç”¨ï¼‰
        // ============================================
        async function fetchDamacaiData() {
            try {
                // æ–¹æ¡ˆ 1: ä» JSON æ–‡ä»¶è·å–ï¼ˆæ¨è GitHub Pagesï¼‰
                const response = await fetch('./api/damacai.json?t=' + Date.now());
                if (!response.ok) throw new Error('HTTP ' + response.status);
                const data = await response.json();
                updateDamacaiResults(data);
            } catch (error) {
                console.log('â³ ç­‰å¾…æ•°æ®æº...', error.message);
                document.getElementById('update-status').textContent = 
                    'â³ æ•°æ®åŠ è½½ä¸­... (' + new Date().toLocaleTimeString('zh-CN') + ')';
            }
        }

        // ============================================
        // ğŸš€ é¡µé¢åŠ è½½æ—¶å°è¯•è·å–æ•°æ®
        // ============================================
        document.addEventListener('DOMContentLoaded', function() {
            // å½“å‰æ³¨é‡Šæ‰ï¼Œç­‰çˆ¬è™« ready åå–æ¶ˆæ³¨é‡Š
            // fetchDamacaiData();
            
            // å¯é€‰ï¼šæ¯ 5 åˆ†é’Ÿè‡ªåŠ¨åˆ·æ–°
            // setInterval(fetchDamacaiData, 300000);
        });

        // ============================================
        // ğŸ§ª æµ‹è¯•æ•°æ®ï¼ˆå¼€å‘è°ƒè¯•ç”¨ï¼‰
        // ============================================
        function testWithData() {
            const testData = {
                drawNumber: "6042-26",
                drawDate: "22-02-2026 (Sun)",
                results: {
                    first: "1234",
                    second: "5678",
                    third: "9012",
                    special: "3456, 7890, 1111, 2222, 3333, 4444, 5555, 6666, 7777, 8888",
                    consolation: "9999, 0000, 1212, 3434, 5656, 7878, 9090, 1313, 5757, 9191"
                }
            };
            updateDamacaiResults(testData);
        }
        
        // æ§åˆ¶å°æµ‹è¯•ï¼šåœ¨æµè§ˆå™¨ console è¾“å…¥ testWithData() æŸ¥çœ‹æ•ˆæœ
    </script>
</body>
</html>
